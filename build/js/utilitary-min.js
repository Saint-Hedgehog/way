"use strict";(()=>{const e=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,s=/^((\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{10}$/,t=e=>{let s=document.querySelector(".modal--show");"Escape"===e.key&&s&&(s.classList.remove("modal--show"),document.removeEventListener("keydown",t))},l=e=>{e.classList.contains("modal__input")?e.classList.add("modal__input--invalid"):e.classList.add("form__input--invalid"),e.previousElementSibling.classList.add("form__error--show")};window.utilitary={setInputValuesFromLocalStorage:(e,s)=>{let t=(e=>JSON.parse(localStorage.getItem(e)))("user");t&&(e.value=t.tel,s.value=t.email)},onEscButtonPressModalClose:t,onCloseButtonModalClose:e=>{e.classList.contains("modal--show")&&e.classList.remove("modal--show")},onOverLayClickModalClose:(e,s,t)=>{t.target===e&&t.target!==s&&e.classList.remove("modal--show")},resetInputError:e=>{e.previousElementSibling.classList.contains("form__error--show")&&e.previousElementSibling.classList.remove("form__error--show"),e.classList.contains("form__input--invalid")&&e.classList.remove("form__input--invalid"),e.classList.contains("modal__input--invalid")&&e.classList.remove("modal__input--invalid")},setErrorStyle:l,setInputValue:(e,s)=>{s.value+=e},validateTelNumber:(e,t)=>{let a=e.value;s.test(a)?delete t.tel:(l(e),t.tel="wrong telephone number")},validateEmail:(s,t)=>{let a=s.value;e.test(a)||0===a.length?delete t.email:(l(s),t.email="wrong email")},setLocalStorage:(e,s,t)=>{t[e]=s,localStorage.setItem("user",JSON.stringify(t))}}})();