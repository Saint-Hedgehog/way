"use strict";(()=>{const e=document.querySelector(".form"),t=e.querySelector("#tel"),i=e.querySelector("#email"),l=document.querySelector(".modal--success"),n=l.querySelector(".modal__close"),r=l.querySelector(".modal__inner");let a={},o={};const d=()=>{window.utilitary.validateTelNumber(t,a)},s=()=>{window.utilitary.validateEmail(i,a)},u=e=>{window.utilitary.onEscButtonPressModalClose(e)},c=()=>{window.utilitary.onCloseButtonModalClose(l)};e.addEventListener("submit",r=>{a.tel||a.email?r.preventDefault():(r.preventDefault(),l.classList.add("modal--show"),document.addEventListener("keydown",u),n.addEventListener("click",c),window.utilitary.setLocalStorage("tel",t.value,o),window.utilitary.setLocalStorage("email",i.value,o),e.reset())}),t.addEventListener("change",d),t.addEventListener("blur",d),i.addEventListener("change",s),i.addEventListener("blur",s),t.addEventListener("focus",()=>{t.value.length<2&&window.utilitary.setInputValue("+7",t),window.utilitary.resetInputError(t)}),i.addEventListener("focus",()=>{window.utilitary.resetInputError(i)}),l.addEventListener("click",e=>{window.utilitary.onOverLayClickModalClose(l,r,e)}),window.addEventListener("load",()=>{window.utilitary.setInputValuesFromLocalStorage(t,i)}),n.addEventListener("click",c)})();